# get single-stained control samples
data(ss_exp)
# specify mass channels stained for
bc_ms <- c(139, 141:156, 158:176)
# debarcode single-positive populations
re <- assignPrelim(x = ss_exp, y = bc_ms)
re <- estCutoffs(x = re)
re <- applyCutoffs(x = re)
x <- re
method="default"
interactions="default"
chs <- colnames(exprs(x))
n_chs <- length(chs)
ms <- as.numeric(regmatches(chs, gregexpr("[0-9]+", chs)))
mets <- gsub("[[:digit:]]+Di", "", chs)
ids <- unique(bc_ids(x))
ids <- ids[ids != 0]
bc_ms <- as.numeric(rownames(bc_key(x)))
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
bc_cols
bc_cols <- vapply(bc_ms, function(x) ms == x, numeric(1))
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
bc_cols
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols
apply(bc_cols, 2, which)
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
bc_cols
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
apply(bc_cols, 2, which)
?sys.time
?system.time
sys.time(
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
)
sys.time(function() {
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which) }
)
system.time(function() {
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which) }
)
system.time(
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
)
system.time(function() {
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which) }
)
proc.time(function() {
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which) }
)
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
ptm <- proc.time()
bc_cols <- vapply(bc_ms, function(x) which(ms == x), numeric(1))
# bc_cols <- vapply(bc_ms, function(x) ms == x, logical(n_chs))
# bc_cols <- apply(bc_cols, 2, which)
proc.time() - ptm
